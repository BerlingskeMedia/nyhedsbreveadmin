<div class="view smartlinkbuilder">
  <h1>Smartlink Builder</h1>
  <div class="col-sm-4">
    <div class="form-group">
      <h4>Nyhedsbreve</h4>
      <select name="nyhedsbrevSelect" id="nyhedsbrevSelect" ng-model="selectedNyhedsbreve" multiple>
        <option ng-repeat="nyhedsbrev in vm.nyhedsbreve" value="{{nyhedsbrev.nyhedsbrev_id}}">{{nyhedsbrev.nyhedsbrev_navn}}
        </option>
      </select>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="form-group">
      <h4>Interesser</h4>
      <select name="interesseSelect" id="interesseSelect" ng-model="selectedInteresser" multiple>
        <option ng-repeat="interesse in vm.interesser" value="{{interesse.interesse_id}}">{{interesse.interesse_navn}}
        </option>
      </select>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="form-group">
      <h4>Permissions</h4>
      <select name="permissionSelect" id="permissionSelect" ng-model="selectedPermissions" multiple>
        <option ng-repeat="permission in vm.permissions" value="{{permission.nyhedsbrev_id}}">{{permission.nyhedsbrev_navn}}
        </option>
      </select>
    </div>
  </div>

  <div class="col-sm-4">
    <h3>Flow</h3>
    <div class="btn-group">
        <label class="btn btn-primary" ng-model="flow" uib-btn-radio="'simple'" uncheckable>Simpel</label>
        <label class="btn btn-primary" ng-model="flow" uib-btn-radio="'double'" uncheckable>Double Optin</label>
    </div>
  </div>
  <div class="col-sm-4">
    <h3>Action</h3>
    <div class="btn-group">
        <label class="btn btn-primary" ng-model="action" uib-btn-radio="'subscribe'" uncheckable>Tilmeld</label>
        <label class="btn btn-primary" ng-model="action" uib-btn-radio="'unsubscribe'" uncheckable>Afmeld</label>
    </div>
  </div>
  <div class="col-sm-4">
    <h3>Kundefelt</h3>
    <div class="btn-group">
        <label class="btn btn-primary" ng-model="customerfield" uib-btn-radio="'email'" uncheckable>Email</label>
        <label class="btn btn-primary" ng-model="customerfield" uib-btn-radio="'eksternid'" uncheckable>Ekstern ID</label>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-6">
      <h3>Startdato</h3>
      <uib-datepicker ng-model="startdate" min-date="minDate" show-weeks="true" class="well well-sm"></uib-datepicker>
    </div>
    <div class="col-sm-6">
      <h3>Eventuel Slutdato</h3>
      <uib-datepicker ng-model="enddate" min-date="startdate" show-weeks="true" class="well well-sm"></uib-datepicker>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-6">
      <h3>Location</h3>
      <input placeholder="Location tekst" ng-change="vm.updateLocation(location_tekst)" type="text" required class="form-control full-width" ng-model="location_tekst" />
    </div>
    <div class="col-sm-6">
      <h3>Landing page</h3>
      <input placeholder="Landing page" ng-change='updateSmartlink()' type="url" class="form-control full-width" ng-model="landingpage" />
    </div>
  </div>
  <div class="well col-xs-12">
    <div class="col-xs-12">
      <h3>Smartlink</h3>
      <pre>{{smartlink}}</pre>
    </div>
    <div class="col-xs-12">
      <h3>Smartlink Form</h3>
<pre>
      {{postSource}}
    </pre>
    </div>
  </div>
</div>

<script type="text/ng-template" id="formPostTemplate.html">
  <div class="placeholder">
    <form action="http://asdas" method="POST">
      {{landingpage}}
      <h1 ng-repeat="n in selectedNyhedsbreve">{{n}}</h1>
      <input name="lid" type="hidden" value="1799"/>
      <input name="nlids" type="hidden" value="300"/>
      <input name="intids" type="hidden" value=""/>
      <input name="url" type="hidden" value=""/>
      <input name="action" type="hidden" value="1"/>
      <input name="email"/>
      <input name="firma"/>
      <input name="fornavn"/>
      <input name="efternavn"/>
      <input name="land"/>
      <input name="postnummer"/>
      <input name="bynavn"/>
      <input name="vejnavn"/>
      <input name="husnummer"/>
      <input name="husbogstav"/>
      <input name="etage"/>
      <input name="sidedoer"/>
      <input name="telefon"/>
      <input name="mobil"/>
      <input name="foedselsaar"/>
      <input name="firma_adresse"/>
      <input type="radio" name="koen" value="K">Kvinde</input>
      <input type="radio" name="koen" value="M">Mand</input>
      <input type="submit" value="Tilmeld" />
    </form>
  </div>

</script>
